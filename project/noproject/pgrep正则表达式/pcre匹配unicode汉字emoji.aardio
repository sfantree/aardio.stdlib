import console;
import preg;

{
	var pRegex1 = preg("/<title>(.*?)<\/title>/mi");
	var testString1 = /*
	<html><head><title>The Dormouse's story</title></head>
	<body>
	<p class="title"><b>The Dormouse's story</b></p>
	
	<p class="story">Once upon a time there were three little sisters; and their names were
	<a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
	<a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
	<a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
	and they lived at the bottom of a well.</p>
	
	<p class="story">...</p>
	*/
	var titleName = pRegex1.match(testString1);
	pRegex1.free()
	console.dump(titleName);
}

{
	//var regexString2 = "/[\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}]/ug";
	var regexString2 = "/[\x{4e00}-\x{9fa5}]/u";
	var pRegex2 = preg(regexString2);
	//var pRegex2 = preg(regexString2);
	//console.dump(pRegex2)
	var testString2 = /*
	è¿™æ˜¯ä¸»åˆ†ç±»ğŸ˜‚ ç¬‘è„¸å’Œæƒ…æ„Ÿçš„è¡¨æƒ…ç¬¦å·åˆ—è¡¨é¡µé¢ã€‚å®ƒåŒ…æ‹¬15ä¸ªå­åˆ†ç±»ï¼Œä¾‹å¦‚ï¼šğŸ˜„ ç¬‘è„¸, ğŸ˜ è¡¨æƒ…è„¸, ğŸ˜› åèˆŒè„¸, ğŸ¤” å¸¯æ‰‹è„¸, ğŸ¤ ä¸­æ€§è„¸-æ€€ç–‘è„¸, ğŸ˜´ ç¡è„¸, ğŸ¤§ ç—…è„¸, ğŸ¤  å¸¦å¸½è„¸, ğŸ˜ çœ¼é•œè„¸, ğŸ˜ æ‹…å¿§è„¸, ğŸ˜  æ¶ˆæè„¸, ğŸ’© è£…æ‰®è„¸, ğŸ˜¸ çŒ«å’ªè„¸, ğŸ™ˆ çŒ´å­è„¸, ğŸ’‹ æƒ…æ„Ÿã€‚æ‚¨å¯ä»¥å•å‡»ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å¹¶å¤åˆ¶è¡¨æƒ…ç¬¦å·ã€‚
	*/
	
	
/*
	var pattern =  "11"
	for s in string.gmatch( str, pattern ){
		
	}
*/
	// åŒ¹é…æ±‰å­—
	for s in pRegex2.gmatch(testString2) {
	    //console.log(s);
	}
}

{
	var regexString3 = "/[\x{1f300}-\x{1f5ff}\x{1f900}-\x{1f9ff}\x{1f600}-\x{1f64f}\x{1f680}-\x{1f6ff}\x{2600}-\x{26ff}\x{2700}-\x{27bf}\x{1f1e6}-\x{1f1ff}\x{1f191}-\x{1f251}\x{1f004}\x{1f0cf}\x{1f170}-\x{1f171}\x{1f17e}-\x{1f17f}\x{1f18e}\x{3030}\x{2b50}\x{2b55}\x{2934}-\x{2935}\x{2b05}-\x{2b07}\x{2b1b}-\x{2b1c}\x{3297}\x{3299}\x{303d}\x{00a9}\x{00ae}\x{2122}\x{23f3}\x{24c2}\x{23e9}-\x{23ef}\x{25b6}\x{23f8}-\x{23fa}]/ug";
		//var regexString2 = "/[\x{4e00}-\x{9fa5}]/u";
	var pRegex3 = preg(regexString3);
	//var pRegex2 = preg(regexString2);
	//console.dump(pRegex2)
	var testString3 = /*
	è¿™æ˜¯ä¸»åˆ†ç±»ğŸ˜‚ ç¬‘è„¸å’Œæƒ…æ„Ÿçš„è¡¨æƒ…ç¬¦å·åˆ—è¡¨é¡µé¢ã€‚å®ƒåŒ…æ‹¬15ä¸ªå­åˆ†ç±»ï¼Œä¾‹å¦‚ï¼šğŸ˜„ ç¬‘è„¸, ğŸ˜ è¡¨æƒ…è„¸, ğŸ˜› åèˆŒè„¸, ğŸ¤” å¸¯æ‰‹è„¸, ğŸ¤ ä¸­æ€§è„¸-æ€€ç–‘è„¸, ğŸ˜´ ç¡è„¸, ğŸ¤§ ç—…è„¸, ğŸ¤  å¸¦å¸½è„¸, ğŸ˜ çœ¼é•œè„¸, ğŸ˜ æ‹…å¿§è„¸, ğŸ˜  æ¶ˆæè„¸, ğŸ’© è£…æ‰®è„¸, ğŸ˜¸ çŒ«å’ªè„¸, ğŸ™ˆ çŒ´å­è„¸, ğŸ’‹ æƒ…æ„Ÿã€‚æ‚¨å¯ä»¥å•å‡»ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å¹¶å¤åˆ¶è¡¨æƒ…ç¬¦å·ã€‚
	*/
	
	
/*
	var pattern =  "11"
	for s in string.gmatch( str, pattern ){
		
	}
*/
	// åŒ¹é…æ±‰å­—
	// https://stackoverflow.com/a/55579386
	//console.log(type(emoji));
	for emoji in pRegex3.gmatch(testString3) {
	    console.log(emoji);
	    //console.log(type(emoji))
	}
	//console.log(type(emoji))
}

{
	var regexString4 = "/[\x{1f300}-\x{1f5ff}\x{1f900}-\x{1f9ff}\x{1f600}-\x{1f64f}\x{1f680}-\x{1f6ff}\x{2600}-\x{26ff}\x{2700}-\x{27bf}\x{1f1e6}-\x{1f1ff}\x{1f191}-\x{1f251}\x{1f004}\x{1f0cf}\x{1f170}-\x{1f171}\x{1f17e}-\x{1f17f}\x{1f18e}\x{3030}\x{2b50}\x{2b55}\x{2934}-\x{2935}\x{2b05}-\x{2b07}\x{2b1b}-\x{2b1c}\x{3297}\x{3299}\x{303d}\x{00a9}\x{00ae}\x{2122}\x{23f3}\x{24c2}\x{23e9}-\x{23ef}\x{25b6}\x{23f8}-\x{23fa}]/ug";
		//var regexString2 = "/[\x{4e00}-\x{9fa5}]/u";
	var pRegex4 = preg(regexString4);
	//var pRegex2 = preg(regexString2);
	//console.dump(pRegex2)
	var testString4 = /*
	è¿™æ˜¯ä¸»åˆ†ç±»ğŸ˜‚ ç¬‘è„¸å’Œæƒ…æ„Ÿçš„è¡¨æƒ…ç¬¦å·åˆ—è¡¨é¡µé¢ã€‚å®ƒåŒ…æ‹¬15ä¸ªå­åˆ†ç±»ï¼Œä¾‹å¦‚ï¼šğŸ˜„ ç¬‘è„¸, ğŸ˜ è¡¨æƒ…è„¸, ğŸ˜› åèˆŒè„¸, ğŸ¤” å¸¯æ‰‹è„¸, ğŸ¤ ä¸­æ€§è„¸-æ€€ç–‘è„¸, ğŸ˜´ ç¡è„¸, ğŸ¤§ ç—…è„¸, ğŸ¤  å¸¦å¸½è„¸, ğŸ˜ çœ¼é•œè„¸, ğŸ˜ æ‹…å¿§è„¸, ğŸ˜  æ¶ˆæè„¸, ğŸ’© è£…æ‰®è„¸, ğŸ˜¸ çŒ«å’ªè„¸, ğŸ™ˆ çŒ´å­è„¸, ğŸ’‹ æƒ…æ„Ÿã€‚æ‚¨å¯ä»¥å•å‡»ä¸‹é¢çš„é“¾æ¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å¹¶å¤åˆ¶è¡¨æƒ…ç¬¦å·ã€‚
	*/
	
	
/*
	var pattern =  "11"
	for s in string.gmatch( str, pattern ){
		
	}
*/
	// æ›¿æ¢emoji
	//console.log(type(emoji));
	// pRegex.replace(.(åŒ¹é…å­—ç¬¦ä¸²,æ›¿æ¢å­—ç¬¦ä¸²,èµ·å§‹ä½ç½®,æ›¿æ¢æ¬¡æ•°,é€‰é¡¹)
	var testString4r = pRegex4.replace(testString4, "", );
	console.log(testString4r);
	    //console.log(type(emoji))
	//console.log(type(emoji))
}

console.pause();